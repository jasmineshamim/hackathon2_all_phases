{"openapi":"3.1.0","info":{"title":"Todo API","description":"Secure Todo application API with JWT authentication","version":"1.0.0"},"paths":{"/auth/register":{"post":{"tags":["authentication"],"summary":"Register","description":"Register a new user with email and password.","operationId":"register_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegistrationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/login":{"post":{"tags":["authentication"],"summary":"Login","description":"Authenticate user with email and password.","operationId":"login_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/logout":{"post":{"tags":["authentication"],"summary":"Logout","description":"Log out the current user.","operationId":"logout_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"JWTBearer":[]},{"HTTPBearer":[]}]}},"/auth/refresh":{"post":{"tags":["authentication"],"summary":"Refresh Token","description":"Refresh access token using a valid refresh token.","operationId":"refresh_token_auth_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/forgot-password":{"post":{"tags":["authentication"],"summary":"Forgot Password","description":"Initiate password reset process.","operationId":"forgot_password_auth_forgot_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordResetRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/reset-password":{"post":{"tags":["authentication"],"summary":"Reset Password","description":"Confirm password reset with token and new password.","operationId":"reset_password_auth_reset_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordResetConfirm"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/verify-email/{token}":{"get":{"tags":["authentication"],"summary":"Verify Email Endpoint","description":"Verify user's email using the provided token.","operationId":"verify_email_endpoint_auth_verify_email__token__get","parameters":[{"name":"token","in":"path","required":true,"schema":{"type":"string","title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/me":{"get":{"tags":["authentication"],"summary":"Get Current User","description":"Get current authenticated user information.","operationId":"get_current_user_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Current User Auth Me Get"}}}}},"security":[{"JWTBearer":[]},{"HTTPBearer":[]}]}},"/tasks/":{"get":{"tags":["tasks"],"summary":"Get Tasks","description":"Get all tasks for the currently authenticated user.","operationId":"get_tasks_tasks__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/TaskResponse"},"type":"array","title":"Response Get Tasks Tasks  Get"}}}}},"security":[{"JWTBearer":[]},{"HTTPBearer":[]}]},"post":{"tags":["tasks"],"summary":"Create Task","description":"Create a new task for the currently authenticated user.","operationId":"create_task_tasks__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]},{"HTTPBearer":[]}]}},"/tasks/{task_id}":{"get":{"tags":["tasks"],"summary":"Get Task","description":"Get a specific task by ID for the currently authenticated user.","operationId":"get_task_tasks__task_id__get","security":[{"JWTBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["tasks"],"summary":"Update Task Endpoint","description":"Update a task by ID for the currently authenticated user.","operationId":"update_task_endpoint_tasks__task_id__put","security":[{"JWTBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["tasks"],"summary":"Delete Task","description":"Delete a task by ID for the currently authenticated user.","operationId":"delete_task_tasks__task_id__delete","security":[{"JWTBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/{task_id}/complete":{"patch":{"tags":["tasks"],"summary":"Toggle Task Completion","description":"Toggle the completion status of a task by ID for the currently authenticated user.","operationId":"toggle_task_completion_tasks__task_id__complete_patch","security":[{"JWTBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/{user_id}/chat":{"post":{"summary":"Chat Endpoint","description":"Send message to AI chatbot and receive response.\n\nArgs:\n    user_id: User ID from path (must match token)\n    request: Chat request with message and optional conversation_id\n    session: Database session\n    token_user_id: User ID from JWT token\n\nReturns:\n    ChatResponse with conversation_id, response, and tool_calls\n\nRaises:\n    HTTPException: If validation fails or error occurs","operationId":"chat_endpoint_api__user_id__chat_post","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"authorization","in":"header","required":true,"schema":{"type":"string","title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Read Root","operationId":"read_root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","description":"Health check endpoint to verify API is running.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"ChatRequest":{"properties":{"conversation_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Conversation Id","description":"Optional conversation ID to continue"},"message":{"type":"string","maxLength":2000,"minLength":1,"title":"Message","description":"User's message"}},"type":"object","required":["message"],"title":"ChatRequest","description":"Chat request payload."},"ChatResponse":{"properties":{"conversation_id":{"type":"integer","title":"Conversation Id","description":"Conversation ID (new or existing)"},"response":{"type":"string","title":"Response","description":"AI assistant's response"},"tool_calls":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Tool Calls","description":"Tools invoked during processing","default":[]}},"type":"object","required":["conversation_id","response"],"title":"ChatResponse","description":"Chat response payload."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"PasswordResetConfirm":{"properties":{"token":{"type":"string","title":"Token"},"new_password":{"type":"string","maxLength":128,"minLength":8,"title":"New Password"}},"type":"object","required":["token","new_password"],"title":"PasswordResetConfirm","description":"Schema for confirming password reset."},"PasswordResetRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"}},"type":"object","required":["email"],"title":"PasswordResetRequest","description":"Schema for initiating password reset."},"RefreshTokenRequest":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token"}},"type":"object","required":["refresh_token"],"title":"RefreshTokenRequest","description":"Schema for refresh token request."},"TaskCreate":{"properties":{"title":{"type":"string","maxLength":200,"minLength":1,"title":"Title","description":"Task title (1-200 characters)"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"Task description (max 1000 characters)"},"completed":{"type":"boolean","title":"Completed","description":"Whether the task is completed","default":false}},"type":"object","required":["title"],"title":"TaskCreate","description":"Schema for creating a new task."},"TaskResponse":{"properties":{"title":{"type":"string","maxLength":200,"minLength":1,"title":"Title","description":"Task title (1-200 characters)"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"Task description (max 1000 characters)"},"completed":{"type":"boolean","title":"Completed","description":"Whether the task is completed","default":false},"user_id":{"type":"string","title":"User Id","description":"ID of the user who owns this task"},"id":{"type":"integer","title":"Id","description":"Unique identifier for the task"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Timestamp when the task was created"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"Timestamp when the task was last updated"}},"type":"object","required":["title","user_id","id","created_at","updated_at"],"title":"TaskResponse","description":"Response schema for task with ID and timestamps."},"TaskUpdate":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Title","description":"Task title (1-200 characters)"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"Task description (max 1000 characters)"},"completed":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Completed","description":"Whether the task is completed"}},"type":"object","title":"TaskUpdate","description":"Schema for updating an existing task."},"TokenResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"},"user_id":{"type":"string","title":"User Id"},"email":{"type":"string","title":"Email"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"}},"type":"object","required":["access_token","refresh_token","user_id","email"],"title":"TokenResponse","description":"Schema for token response after successful authentication."},"UserLoginRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","maxLength":128,"minLength":1,"title":"Password"}},"type":"object","required":["email","password"],"title":"UserLoginRequest","description":"Schema for user login request."},"UserRegistrationRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","maxLength":128,"minLength":8,"title":"Password"},"name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Name"}},"type":"object","required":["email","password"],"title":"UserRegistrationRequest","description":"Schema for user registration request."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"JWTBearer":{"type":"http","scheme":"bearer"},"HTTPBearer":{"type":"http","scheme":"bearer"}}}}